#body-wrap
  display: flex
  flex-direction: column
  min-height: 100vh
  justify-content: space-between;
  /* 新增全局背景设置 */
  background: var(--anzhiyu-background) 
  background-size: cover
  background-attachment: fixed
  background-position: center
  +maxWidth768()
    .layout
      padding: 0;
    #archive
      background: var(--anzhiyu-background)
      border: none
      padding-top: 0px
    /* 移动端背景优化 */
    background-size: 100% 100%
    background-attachment: scroll

.layout
  display: flex
  flex: 1 auto
  margin: 0 auto
  padding: 1.25rem 1.5rem
  max-width: 1200px
  width: 100%
  justify-content: center;

  +maxWidth1200()
    flex-direction: column
    padding-top: 10px

  +maxWidth768()
    padding: 20px 15px;
    z-index: 3

  +minWidth2000()
    max-width: 1700px

  & > div:first-child:not(.recent-posts)
    padding: 2rem 2.5rem;
    border-radius: 12px;
    width: calc(100% - 300px);
    align-self: flex-start;
    animation: slide-in 0.6s 0.1s backwards;

    +maxWidth768()
      padding: 1rem 1rem;
      background: transparent;

  & > div:first-child
    width: calc(100% - 300px)
    transition: all .3s ease 0s

    +maxWidth900()
      width: 100% !important

    if hexo-config('aside.position') == 'left'
      +minWidth900()
        order: 2

  &.hide-aside
    max-width: 1000px

    +minWidth2000()
      max-width: 1200px

    & > div
      width: 100% !important

// 苹果设备适配
.apple
  #page-header.full_page
    background-attachment: scroll !important
  /* 防止Safari背景抖动 */
  #body-wrap
    background-attachment: scroll !important

/* 内容区块保持透明 */
.card, .post-block {
  background: transparent !important;
  box-shadow: none !important;
}